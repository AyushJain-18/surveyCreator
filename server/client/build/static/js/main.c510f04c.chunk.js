(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,r){},152:function(e,t,r){},153:function(e,t,r){},154:function(e,t,r){},168:function(e,t,r){},169:function(e,t,r){},170:function(e,t,r){},171:function(e,t,r){},172:function(e,t,r){},173:function(e,t,r){},174:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(10),c=r.n(a),i=(r(122),r(5)),o=r(59),u=r(41),l=r(94),d=r(110),j=r(12),b=r(22),O=r(6),S=r(223),h=r(224),p=r(70),E=r(226),R=r(215),v=r(103),y=r.n(v),_=r(229),g=r(177),f=r(178),m=r(221),x=r(222),T=r(225),C=r(67),N=r.n(C),U=r(66),D=r.n(U),A=r(21),I=r(23),G=r(13),L=r(232),w=r(216),F=r(217),k=r(176),Y=r(218),V=r(219),P=r(220),H=r(212),M=r(15),B=r(78),z=r.n(B),q=r(101),W=r.n(q),K=r(102),J=r.n(K),Q=r(97),X=r.n(Q),$=r(29),Z=r(45),ee=function(e,t){console.log("\n\n // ERROR // \n\n ".concat(t," \n\n ").concat(e.message))},te={START_FETCHING_USER_LOGIN_DETAILS:"START_FETCHING_USER_LOGIN_DETAILS",ERROR_FETCHING_USER_LOGIN_DETAILS:"ERROR_FETCHING_USER_LOGIN_DETAILS",SUCCESS_FETCHING_USER_LOGIN_DETAILS:"SUCCESS_FETCHING_USER_LOGIN_DETAILS",UPDATE_USER_CREDIT:"UPDATE_USER_CREDIT",START_USER_LOGIN:"START_USER_LOGIN",ERROR_USER_LOGIN:"ERROR_USER_LOGIN",SUCCESS_USER_LOGIN:"SUCCESS_USER_LOGIN",START_USER_LOGOUT:"START_USER_LOGOUT",ERROR_USER_LOGOUT:"ERROR_USER_LOGOUT",SUCCESS_USER_LOGOUT:"SUCCESS_USER_LOGOUT",START_ADDING_CREDIT:"START_ADDING_CREDIT",SUCCESS_ADDING_CREDIT:"SUCCESS_ADDING_CREDIT",ERROR_ADDING_CREDIT:"ERROR_ADDING_CREDIT",ADD_SURVEY_FORM_DATA:"ADD_SURVEY_FORM_DATA",CLEAR_SURVEY_FORM_DATA:"CLEAR_SURVEY_FORM_DATA",START_GENERATING_SURVEY:"START_GENERATING_SURVEY",SUCCESS_GENERATING_SURVEY:"SUCCESS_GENERATING_SURVEY",ERROR_GENERATING_SURVEY:"ERROR_GENERATING_SURVEY",RESET_SURVEY_STATUS:"RESET_SURVEY_STATUS",START_CAPTURING_SURVEY_RESPONSE:"START_CAPTURING_SURVEY_RESPONSE",SUCCESS_CAPTURING_SURVEY_RESPONSE:"SUCCESS_CAPTURING_SURVEY_RESPONSE",ERROR_CAPTURING_SURVEY_RESPONSE:"ERROR_CAPTURING_SURVEY_RESPONSE",START_FETCHING_USER_SURVEY_DATA:"START_FETCHING_USER_SURVEY_DATA",SUCCESS_FETCHING_USER_SURVEY_DATA:"SUCCESS_FETCHING_USER_SURVEY_DATA",ERROR_FETCHING_USER_SURVEY_DATA:"ERROR_FETCHING_USER_SURVEY_DATA"},re=r(46),ne=r.n(re),se=function(e){return{type:te.SUCCESS_FETCHING_USER_LOGIN_DETAILS,payload:e}},ae=function(){return{type:te.CLEAR_SURVEY_FORM_DATA}},ce=function(e){return{type:te.SUCCESS_CAPTURING_SURVEY_RESPONSE,payload:e}},ie=function(){return function(){var e=Object(Z.a)(Object($.a)().mark((function e(t){var r;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:te.START_FETCHING_USER_LOGIN_DETAILS}),e.prev=1,e.next=4,ne.a.get("/api/getCurrentUser");case 4:r=e.sent,t(se(r.data)),t(ae()),e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(1),"Request failed with status code 401"!==e.t0.message){e.next=14;break}return t(se(null)),e.abrupt("return");case 14:ee(e.t0,"Error occored while fetching user login details"),t({type:te.ERROR_FETCHING_USER_LOGIN_DETAILS});case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},oe=r(1),ue=Object(j.b)(null,(function(e){return{startAddingCredit:function(t,r){return e(function(e,t){return function(){var r=Object(Z.a)(Object($.a)().mark((function r(n){var s;return Object($.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:te.START_ADDING_CREDIT}),r.prev=1,r.next=4,ne.a.post("/api/addCredit",{token:e,amount:t});case 4:s=r.sent,console.log("Add Credit Response is",s),n(ie()),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),ee(r.t0,"Error occored while Adding new Credits"),n({type:te.ERROR_ADDING_CREDIT});case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}(t,r))}}}))((function(e){var t=e.children,r=e.onClose,n=e.startAddingCredit;return Object(oe.jsx)(X.a,{amount:500,name:"Survey Generator Payement Gateway",description:"pay 5$ for 5 credits",image:"/favicon.ico",token:function(e){return n(e,500)},stripeKey:"pk_test_4b9bCmmYb4mUbXuV6ygdQE4u00Hzn49rYV",closed:r||"",children:t})})),le=r(20),de=function(e){return e.auth},je=Object(le.a)([de],(function(e){return!(!e.userDetails||!e.userDetails.display_name)})),be=Object(le.a)([de],(function(e){return e.userDetails?e.userCredit:null})),Oe=Object(le.a)([de],(function(e){return e.userDetails})),Se=Object(le.a)([de],(function(e){return e.isAuthError})),he=Object(le.a)([de],(function(e){return e.formData})),pe=Object(le.a)([de],(function(e){return e.isSurveyGenerateError})),Ee=Object(le.a)([de],(function(e){return e.isSurveyGenerateSuccess})),Re=Object(le.a)([de],(function(e){return e.isLoading})),ve=Object(le.a)([de],(function(e){return e.isLoadingSurvey})),ye=Object(le.a)([de],(function(e){return e.isLoadingForAddingSurveyResponse})),_e=Object(le.a)([de],(function(e){return e.isAddingSurveyResponseError})),ge=Object(le.a)([de],(function(e){return e.isAddingSurveyResponseSuccess})),fe=Object(le.a)([de],(function(e){return e.userSurveyData})),me=Object(le.a)([de],(function(e){return e.isFetchingUserSurveyData})),xe=Object(le.a)([de],(function(e){return e.errorFetchinUserSurveyData})),Te=Object(le.a)([de],(function(e){return e.surveyResponse})),Ce=r(99),Ne=r.n(Ce),Ue=Object(H.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"50%","& > *":{margin:e.spacing(1)}},credit:Object(G.a)({display:"flex",fontWeight:"bold",height:"inherit",alignItems:"center",visibility:"hidden"},e.breakpoints.up("md"),{visibility:"visible"}),avatar:{display:"flex"},icon:{marginRight:e.spacing(1)},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7),cursor:"Pointer"}}})),De=Object(b.c)(M.g,Object(j.b)((function(e){return{userCredit:be(e)}}),(function(e){return{startUserLogout:function(){return e(function(){var e=Object(Z.a)(Object($.a)().mark((function e(t){var r;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:te.SUCCESS_USER_LOGOUT}),e.prev=1,e.next=4,ne.a.get("/auth/google");case 4:r=e.sent,console.log("Login response is",r),t({type:te.SUCCESS_USER_LOGOUT}),t(ae()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),ee(e.t0,"Error occored while logging with google"),t({type:te.ERROR_USER_LOGOUT});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}})))((function(e){var t=e.userData,r=e.history,n=e.userCredit,a=Ue(),c=t.display_name,o=t.profile_picture,u=s.a.useState(!1),l=Object(I.a)(u,2),d=l[0],j=l[1],b=s.a.useRef(null),O=s.a.useRef(null),S=function(){j((function(e){return!e}))},h=function(e){b.current&&b.current.contains(e.target)||j(!1)};function E(e){"Tab"===e.key&&(e.preventDefault(),j(!1))}var v=s.a.useRef(d);s.a.useEffect((function(){!0===v.current&&!1===d&&b.current.focus(),v.current=d}),[d]);var y=function(e){h(e),window.open("/api/logout","_self")},_=function(e){h(e),r.push("/profile")},g=function(e){h(e),r.push("/surveys")},f=function(){return S(O.current)};return Object(oe.jsxs)("div",{className:a.root,children:[Object(oe.jsxs)("div",{className:a.credit,children:[Object(oe.jsx)(p.a,{variant:"h6",children:"Your total Credit are"}),Object(oe.jsx)(z.a,{}),"  ",Object(oe.jsx)(p.a,{variant:"h6",children:n})]}),Object(oe.jsxs)("div",{className:a.avatar,children:[Object(oe.jsx)(L.a,{title:c,alt:c,src:o,className:a.large,ref:b,"aria-controls":d?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:S}),Object(oe.jsx)(R.a,{color:"inherit","aria-label":"menu",onClick:S,children:Object(oe.jsx)(Ne.a,{})})]}),Object(oe.jsx)(w.a,{open:d,role:"menu",anchorEl:b.current,style:{zIndex:100},transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,r=e.placement;return Object(oe.jsx)(F.a,Object(i.a)(Object(i.a)({},t),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(oe.jsx)(k.a,{children:Object(oe.jsx)(Y.a,{onClickAway:h,children:Object(oe.jsxs)(V.a,{autoFocusItem:d,id:"menu-list-grow",onKeyDown:E,children:[Object(oe.jsxs)(P.a,{onClick:_,children:["  ",Object(oe.jsx)(D.a,{className:a.icon}),"      Profile                 "]}),Object(oe.jsxs)(P.a,{onClick:g,children:["  ",Object(oe.jsx)(N.a,{className:a.icon}),"      Survey                 "]}),Object(oe.jsxs)(P.a,{ref:O,children:["       ",Object(oe.jsx)(W.a,{className:a.icon}),"   ",Object(oe.jsx)(ue,{onClose:f,children:" Add Credit"})," "]}),Object(oe.jsxs)(P.a,{onClick:h,children:[" ",Object(oe.jsx)(z.a,{className:a.icon}),"        You have ",n," Credits      "]}),Object(oe.jsxs)(P.a,{onClick:y,children:["    ",Object(oe.jsx)(J.a,{className:a.icon}),"              Logout                  "]})]})})})}))}})]})})),Ae=function(e){return 0===e?Object(oe.jsx)(D.a,{}):1===e?Object(oe.jsx)(N.a,{}):void 0},Ie=function(e){var t=e.classes,r=e.toggleDrawer;return Object(oe.jsx)("div",{className:t.list,role:"presentation",onClick:r(!1),onKeyDown:r(!1),children:Object(oe.jsx)(g.a,{children:["Profile","Surveys"].map((function(e,t){return Object(oe.jsx)(A.b,{to:0===t?"/Profile":1===t?"/surveys":"",children:Object(oe.jsxs)(f.a,{button:!0,children:[Object(oe.jsxs)(m.a,{children:[" ",Ae(t)]}),Object(oe.jsx)(x.a,{primary:e})]},e)},t)}))})})},Ge=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={showDrowser:!1},n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.startFetchingLoginDetails()}},{key:"toggleDrawer",value:function(e){var t=this;return function(r){("keydown"!==r.type||"Tab"!==r.key&&"Shift"!==r.key)&&t.setState({showDrowser:e})}}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.isLoading,n=e.isUserLoggedIn,s=e.isError,a=e.userData;return Object(oe.jsxs)("div",{className:t.root,children:[Object(oe.jsx)(S.a,{className:t.appbar,position:"static",children:Object(oe.jsxs)(h.a,{children:[n&&Object(oe.jsx)(R.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:this.toggleDrawer(!0),children:Object(oe.jsx)(y.a,{})}),Object(oe.jsx)(p.a,{variant:"h6",className:t.title,children:Object(oe.jsx)(A.b,{to:"/",children:"Survey Generator"})}),r&&Object(oe.jsx)(T.a,{className:t.circularSpinner,color:"secondary"}),!r&&s&&Object(oe.jsx)(p.a,{variant:"h6",color:"secondary",children:" Error Ocuured"}),!r&&!s&&!n&&Object(oe.jsx)(E.a,{href:"/auth/google",color:"inherit",children:"Login with google"}),!r&&!s&&n&&Object(oe.jsx)(De,{userData:a})]})}),n&&Object(oe.jsx)(_.a,{anchor:"left",open:this.state.showDrowser,onClose:this.toggleDrawer(!1),children:Object(oe.jsx)(Ie,{classes:t,toggleDrawer:this.toggleDrawer})})]})}}]),r}(s.a.Component),Le=Object(b.c)(Object(O.a)((function(e){return{root:{flexGrow:1},appbar:{minHeight:"72px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,cursor:"pointer"},Error:{color:"red"},list:{width:250},circularSpinner:{"& > * + *":{marginLeft:e.spacing(2)}}}}),{withTheme:!0}),Object(j.b)((function(e){return{isLoading:Re(e),isUserLoggedIn:je(e),isError:Se(e),userData:Oe(e)}}),(function(e){return{startFetchingLoginDetails:function(){return e(ie())}}})))(Ge),we=(r(152),r(153),r(104)),Fe=r.n(we),ke=Object(j.b)((function(e){return{isUserLoggedIn:je(e),userData:Oe(e),userSurveyData:fe(e),userSurveyDataError:xe(e),isLoadingUserSurveyData:me(e)}}),(function(e){return{startFetchingUserSurveyData:function(t){return e(function(e){return function(){var t=Object(Z.a)(Object($.a)().mark((function t(r){var n;return Object($.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:te.START_FETCHING_USER_SURVEY_DATA}),t.prev=1,t.next=4,ne.a.post("/api/getSurvey",{user_id:e});case 4:n=t.sent,r((s=n.data,{type:te.SUCCESS_FETCHING_USER_SURVEY_DATA,payload:s})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),ee(t.t0,"Error occored while fetching user survey response"),r({type:te.ERROR_FETCHING_USER_SURVEY_DATA});case 12:case"end":return t.stop()}var s}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isUserLoggedIn,r=e.userSurveyData,n=e.startFetchingUserSurveyData,a=e.userSurveyDataError,c=e.isLoadingUserSurveyData,i=e.userData;return console.log("isUserLoggedIn",t),s.a.useEffect((function(){t&&n(i._id)}),[t,i,n]),t?Object(oe.jsxs)("div",{style:{position:"relative",backgroundlColor:" rgba(226, 226, 226, 0.8)"},children:[!c&&!a&&Object(oe.jsx)(A.b,{to:"/surveys/create-new-surveys",className:"add-new-survey-iocn",children:Object(oe.jsx)(Fe.a,{style:{width:100,height:100},color:"secondary"})}),Object(oe.jsxs)("div",{className:"survey-container",children:[c&&Object(oe.jsx)(T.a,{style:{width:"100px",height:"100px"},color:"secondary"}),a&&Object(oe.jsx)("div",{className:"survey-data-error",children:" Error while Fetching data, please chech your internet connection and try again  "}),!c&&!a&&Object(oe.jsxs)(oe.Fragment,{children:[(!r||0===r.length)&&Object(oe.jsx)("div",{className:"survey-no-data",children:" No Survey Found  "}),r&&r.map((function(e,t){return Object(oe.jsxs)("div",{className:"survey-response-container",children:[Object(oe.jsx)("div",{className:"eachSurveyHeader",children:" Survey response"}),Object(oe.jsxs)("div",{className:"eachSurvey",children:[" ",Object(oe.jsx)("span",{children:"Survey title"}),"    ",Object(oe.jsx)("span",{className:"eachSurveyResponse",children:e.title})]}),Object(oe.jsxs)("div",{className:"eachSurvey",children:[" ",Object(oe.jsx)("span",{children:"Total responses"})," ",Object(oe.jsx)("span",{className:"eachSurveyResponse",children:e.TotalYes+e.TotalNo})]}),Object(oe.jsxs)("div",{className:"eachSurvey",children:[" ",Object(oe.jsx)("span",{children:"Total yes"}),"       ",Object(oe.jsx)("span",{className:"eachSurveyResponse",children:e.TotalYes})]}),Object(oe.jsxs)("div",{className:"eachSurvey",children:[" ",Object(oe.jsx)("span",{children:"Total no"}),"        ",Object(oe.jsx)("span",{className:"eachSurveyResponse",children:e.TotalNo})]})]},t)}))]})]})]}):Object(oe.jsx)(M.a,{to:"/"})})),Ye=(r(154),Object(j.b)((function(e){return{isUserLoggedIn:je(e),userCredit:be(e)}}))((function(e){var t=e.isUserLoggedIn;return Object(oe.jsxs)("div",{className:"background-image",style:{backgroundImage:"url(/survey-background.jpg)"},children:[Object(oe.jsx)("div",{className:"home-header",children:"Welcome to Survey Generator"}),Object(oe.jsxs)("div",{className:"home-subheader",children:["we will help you to create your surveys ",Object(oe.jsx)("br",{}),"Buy credit and we will create surveys"]}),Object(oe.jsxs)("ul",{className:"home-content",children:[t?Object(oe.jsxs)("li",{children:[" ",Object(oe.jsx)(A.b,{to:"/surveys",children:"Surveys Dashboard"})]}):Object(oe.jsx)("li",{"aria-hidden":!0,onClick:function(){return window.open("/auth/google","_self")},children:"Please Login to continue !"}),t?Object(oe.jsxs)("li",{children:[Object(oe.jsx)(A.b,{to:"/Profile",children:"Profile Dashboard"})," "]}):""]})]})}))),Ve=r(105),Pe=r.n(Ve),He=r(106),Me=r.n(He),Be=r(68),ze=Object(H.a)((function(){return{container:{display:"flex",height:"50vh",flexDirection:"column",justifyContent:"space-around",alignItems:"center",paddingTop:"10vh",paddingBottom:"29vh",backgroundColor:"whitesmoke"},header:{fontSize:"2rem",color:"darkorchid"},subHeader:{fontSize:"1.75rem",color:"orange"},redirectMsg:{fontSize:"1.25rem",color:"darkorchid"},refreshIcon:{width:70,height:70,cursor:"pointer"}}})),qe=Object(b.c)(M.g,Object(j.b)((function(e){return{isLoading:ye(e),isError:_e(e),isSuccess:ge(e),surveyResponse:Te(e)}}),(function(e){return{addSurveyResponse:function(t){return e(function(e){var t=e.surveyGeneratorId,r=e.reciverMailId,n=e.response;return function(){var e=Object(Z.a)(Object($.a)().mark((function e(s){var a;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:te.START_CAPTURING_SURVEY_RESPONSE}),e.prev=1,e.next=4,ne.a.post("/api/sureyResponse",{surveyGeneratorId:t,reciverMailId:r,response:n});case 4:a=e.sent,s(ce(a.data.result)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),ee(e.t0,"Error occored while adding survey response"),s({type:te.ERROR_CAPTURING_SURVEY_RESPONSE});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}})))((function(e){var t=e.location,r=e.history,n=e.isLoading,a=e.isError,c=e.isSuccess,i=e.addSurveyResponse,o=e.surveyResponse,u=ze();return s.a.useState((function(){var e=Pe.a.parse(t.search),r=e.surveyGeneratorId,n=e.reciverMailId,s=e.response;i({surveyGeneratorId:r,reciverMailId:n,response:s})}),[]),Object(oe.jsxs)("div",{className:u.container,style:{fontFamily:"Yusei Magic"},children:[Object(oe.jsx)("div",{className:u.header,children:" Thanks for your response "}),n&&Object(oe.jsx)(T.a,{color:"secondary"}),Object(oe.jsxs)("div",{className:u.subHeader,children:[n&&Object(oe.jsx)(oe.Fragment,{children:"Please wait while we submit your response"}),a&&Object(oe.jsx)(oe.Fragment,{children:"Error while submmiting your response please try again"}),c&&Object(oe.jsx)(oe.Fragment,{children:o})]}),!n&&a&&Object(oe.jsx)(Me.a,{title:"try again",className:u.refreshIcon,onClick:function(){return r.go(0)}}),c&&Object(oe.jsxs)(oe.Fragment,{children:[" ",Object(oe.jsx)("span",{className:u.redirectMsg,children:" Redirecting to home page "}),Object(oe.jsx)(Be.CountdownCircleTimer,{isPlaying:!0,duration:10,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],onComplete:function(){r.push("/")},children:function(e){var t=e.remainingTime;return"".concat(t)}})]})]})})),We=(r(168),function(e){var t=e.message,r=e.height;return Object(oe.jsxs)("div",{className:"error",style:r?{height:r,backgroundColor:"rgba(226, 226, 226, 0.8)"}:{},children:[Object(oe.jsx)("span",{style:{fontSize:"3rem"},children:" OOPS !!"}),Object(oe.jsxs)("span",{children:[" ",t," "]})]})}),Ke=(r(169),Object(b.c)(M.g,Object(j.b)((function(e){return{isLoggedIn:je(e),userCredit:be(e),userData:Oe(e)}})))((function(e){var t=e.isLoggedIn,r=e.userCredit,n=e.userData,s=e.history;return t?Object(oe.jsxs)("div",{className:"profile-container",children:[Object(oe.jsx)("img",{src:n.profile_picture,alt:"user_profile_picture",className:"profile-picture"}),Object(oe.jsxs)("div",{className:"user-content",children:[Object(oe.jsxs)("div",{className:"user-field",children:[Object(oe.jsx)("div",{children:"Name"}),Object(oe.jsx)("div",{className:"user",children:n.display_name})]}),Object(oe.jsxs)("div",{className:"user-field",children:[Object(oe.jsx)("div",{children:"Email"}),Object(oe.jsxs)("div",{className:"user",children:[" ",n.email_id]})]}),Object(oe.jsxs)("div",{className:"user-field",children:[Object(oe.jsx)("div",{children:" Credit"}),Object(oe.jsxs)("div",{className:"user",children:[" ",r]})]})]})]}):(s.push("/"),null)}))),Je=r(109),Qe=r(228),Xe=(r(170),r(3)),$e=(r(171),["handleChange","label"]),Ze=function(e){var t=e.handleChange,r=e.label,n=Object(Xe.a)(e,$e);return Object(oe.jsxs)("div",{className:"group",children:[Object(oe.jsx)("input",Object(i.a)({className:"form-input",onChange:t},n)),r?Object(oe.jsx)("label",{className:"".concat(n.value.length?"shrink":""," \n                            form-input-label"),children:r}):null]})},et=Object(j.b)((function(e){return{userCredit:be(e),userFormData:he(e)}}),(function(e){return{saveData:function(t){return e(function(e){return console.log("formData",e),{type:te.ADD_SURVEY_FORM_DATA,payload:e}}(t))}}}))((function(e){var t=e.userCredit,r=e.userFormData,n=e.saveData,a=s.a.useState(r||{title:"",subject:"",body:"",recipientList:[]}),c=Object(I.a)(a,2),o=c[0],u=c[1],l=function(e){var t=e.target,r=t.name,n=t.value;u(Object(i.a)(Object(i.a)({},o),{},Object(G.a)({},"".concat(r),n)))},d=o.title,j=o.subject,b=o.body,O=o.recipientList;return 0===t?Object(oe.jsxs)("div",{className:"new-form-error-container",children:[Object(oe.jsx)(We,{message:" You dont have enough credit to generate new survey "}),Object(oe.jsx)(ue,{children:Object(oe.jsx)("div",{className:"add-credit-form",children:"Add Credit"})}),Object(oe.jsxs)("div",{className:"test-card-details-container",children:[Object(oe.jsx)("div",{style:{borderBottom:"5px solid black",marginBottom:"20px"},children:"TEST CARD DETAILS"}),Object(oe.jsxs)("div",{className:"each-test-key",children:[" ",Object(oe.jsx)("span",{children:"Test card number"}),"  ",Object(oe.jsx)("span",{style:{width:"50%"},children:"4242 4242 4242 4242"}),"  "]}),Object(oe.jsxs)("div",{className:"each-test-key",children:[" ",Object(oe.jsx)("span",{children:"Month/year"}),"        ",Object(oe.jsx)("span",{style:{width:"50%"},children:"10/22"}),"                 "]}),Object(oe.jsxs)("div",{className:"each-test-key",children:[" ",Object(oe.jsx)("span",{children:"CVV "}),"              ",Object(oe.jsx)("span",{style:{width:"50%"},children:"123"})]})]})]}):Object(oe.jsx)("div",{className:"add-new-survey-form-container",children:Object(oe.jsxs)("div",{className:"form-container",children:[Object(oe.jsx)("div",{className:"form-header",children:"Please fill out following surveys details "}),Object(oe.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=o;t.recipientList=function(e){return String(e).split(",").map((function(e){return e.trim()}))}(o.recipientList),n(t)},children:[Object(oe.jsx)(Ze,{type:"text",name:"title",label:"Title",value:d,required:!0,handleChange:l}),Object(oe.jsx)(Ze,{type:"text",name:"subject",label:"Subject of the mail",value:j,required:!0,handleChange:l}),Object(oe.jsx)(Ze,{type:"text",name:"body",label:"Body of the mail",value:b,required:!0,handleChange:l}),Object(oe.jsx)(Ze,{type:"text",name:"recipientList",label:"Comma seprated recipient  eamil address list",value:O,required:!0,handleChange:l}),Object(oe.jsx)("div",{className:"submit-button-container",children:Object(oe.jsx)("button",{className:"button",type:"submit",children:" submit "})})]})]})})})),tt=(r(172),r(234)),rt=r(227),nt=r(231),st=r(233),at=r(230),ct=Object(H.a)((function(e){return{root:{width:"100%",minHeight:"89vh",backgroundColor:"whitesmoke"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},generationSurveyContainer:{display:"flex",padding:"50px 0px",height:"30vh",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},generatingMsg:{fontSize:"2rem",color:"cornflowerblue",fontWeight:"bold"},timmer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",fontSize:"1rem",color:"red",fontWeight:"bold",height:"60vh"}}})),it=function(e){return Object(oe.jsx)(at.a,Object(i.a)({elevation:6,variant:"filled"},e))},ot=Object(b.c)(Object(j.b)((function(e){return{userFormData:he(e),userData:Oe(e),isGeneratingSurvey:ve(e),isErrorGeneratingSurvey:pe(e),isSuccessGeneratinSurvey:Ee(e)}}),(function(e){return{clearFormData:function(){return e(ae())},resetSurveyStatus:function(){return e({type:te.RESET_SURVEY_STATUS})},startGenerateForm:function(t){return e(function(e){return function(){var t=Object(Z.a)(Object($.a)().mark((function t(r){var n;return Object($.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:te.START_GENERATING_SURVEY}),console.log("SurveyData is",e),t.prev=2,t.next=5,ne.a.post("/api/generateSurvey",e);case 5:n=t.sent,r({type:te.SUCCESS_GENERATING_SURVEY}),r((s=n.data.userCredit,{type:te.UPDATE_USER_CREDIT,payload:s})),r(ae()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),ee(t.t0,"Error occored while generating Survey"),r({type:te.ERROR_GENERATING_SURVEY});case 15:case"end":return t.stop()}var s}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}})),M.g)((function(e){var t=e.components,r=e.headerTitle,n=e.history,a=e.userFormData,c=e.resetSurveyStatus,i=e.isErrorGeneratingSurvey,o=e.isSuccessGeneratinSurvey,u=e.clearFormData,l=e.startGenerateForm,d=e.userData,j=e.isGeneratingSurvey,b=ct(),O=s.a.useState(!1),S=Object(I.a)(O,2),h=S[0],E=S[1],R=s.a.useState(""),v=Object(I.a)(R,2),y=v[0],_=v[1],g=s.a.useState(""),f=Object(I.a)(g,2),m=f[0],x=f[1],C=s.a.useState(0),N=Object(I.a)(C,2),U=N[0],D=N[1],A=r,G=function(){D(0),E(!1),c()},L=function(e,t){"clickaway"!==t&&E(!1)};return s.a.useEffect((function(){a&&(E(!0),_("success"),x("Form value successfully store, click next to proceed")),i&&(E(!0),_("error"),x("Error generating survey")),o&&(E(!0),_("success"),x("Success generating Survey"))}),[a,i,o]),Object(oe.jsxs)("div",{className:b.root,children:[Object(oe.jsx)(st.a,{open:h,autoHideDuration:6e3,onClose:L,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(oe.jsx)(it,{onClose:L,severity:y,children:m})}),Object(oe.jsx)(tt.a,{style:{backgroundColor:"whitesmoke"},activeStep:U,alternativeLabel:!0,children:A.map((function(e){return Object(oe.jsx)(rt.a,{children:Object(oe.jsx)(nt.a,{children:e})},e)}))}),Object(oe.jsx)("div",{children:U===A.length?Object(oe.jsxs)(oe.Fragment,{children:[!o&&Object(oe.jsxs)("div",{className:b.generationSurveyContainer,children:[Object(oe.jsxs)(p.a,{className:b.generatingMsg,children:[!o&&!i&&Object(oe.jsx)(oe.Fragment,{children:" Generating Survey please wait"}),i&&Object(oe.jsx)("div",{"aria-hidden":!0,className:"final-button",onClick:G,children:" Error Occured Try Again"})]}),j&&Object(oe.jsx)(T.a,{color:"secondary"})]}),o&&Object(oe.jsxs)("div",{className:b.timmer,children:[Object(oe.jsx)("div",{style:{fontSize:"3rem",color:"blue"},children:" Survey generated successfully!!"}),Object(oe.jsx)("div",{children:" redirecting back to Survey dashboard page"}),Object(oe.jsx)(Be.CountdownCircleTimer,{isPlaying:!0,duration:10,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],onComplete:function(){G(),n.push("/surveys")},children:function(e){var t=e.remainingTime;return"".concat(t)}})]})]}):Object(oe.jsxs)("div",{children:[Object(oe.jsx)(p.a,{className:b.instructions,children:t[U]}),Object(oe.jsxs)("div",{className:"form-button-container",children:[Object(oe.jsx)("button",{className:"stepper-button",onClick:0===U?function(){u(),n.push("/surveys")}:function(){D((function(e){return e-1}))},children:"Back"}),Object(oe.jsx)("button",{className:"stepper-button",style:a?{}:{cursor:"not-allowed"},onClick:function(){U===A.length-1&&l({surveyData:a,user_profile_id:d.profile_id}),D((function(e){return e+1}))},disabled:!a,title:a?"click next to proceed":"please submit form first",children:U===A.length-1?"Generate Survey":"Next"})]})]})})]})})),ut=(r(173),Object(j.b)((function(e){return{userFormData:he(e)}}))((function(e){var t=e.userFormData,r=t.title,n=t.subject,s=t.body,a=t.recipientList;return Object(oe.jsx)("div",{className:"formDataContainer",children:Object(oe.jsxs)("div",{className:"userDataContainer",children:[Object(oe.jsxs)("div",{className:"eachData",children:[" ",Object(oe.jsx)("span",{style:{color:"cornflowerblue"},children:"Survey Title"}),"    ",Object(oe.jsx)("span",{style:{width:"55%"},children:r}),"            "]}),Object(oe.jsxs)("div",{className:"eachData",children:[Object(oe.jsx)("span",{style:{color:"cornflowerblue"},children:"Email Subject"}),"   ",Object(oe.jsx)("span",{style:{width:"55%"},children:n}),"          "]}),Object(oe.jsxs)("div",{className:"eachData",children:[" ",Object(oe.jsx)("span",{style:{color:"cornflowerblue"},children:"Email Body"}),"      ",Object(oe.jsx)("span",{style:{width:"55%"},children:s}),"             "]}),Object(oe.jsxs)("div",{className:"eachData",children:[" ",Object(oe.jsx)("span",{style:{color:"cornflowerblue"},children:"Recipient List"}),Object(oe.jsx)("div",{style:{width:"55%"},children:a.map((function(e,t){return Object(oe.jsx)("div",{style:{wordBreak:"break-all"},children:"".concat(t+1,". ").concat(e)},t)}))})]})]})})}))),lt=Object(b.c)(Object(j.b)((function(e){return{isUserLogedIn:je(e)}})),M.g)((function(e){var t=e.history;return e.isUserLogedIn||t.push("/"),Object(oe.jsx)(ot,{components:[Object(oe.jsx)(et,{},"AddNewSurveysForm"),Object(oe.jsx)(ut,{},"ShowUserData")],headerTitle:["Fill out survey creator form","Confirm form values"]})})),dt=Object(Je.a)({typography:{fontFamily:"'Yusei Magic', sans-serif"}});var jt=function(){return Object(oe.jsxs)(Qe.a,{theme:dt,children:[Object(oe.jsx)(Le,{}),Object(oe.jsxs)(M.d,{children:[Object(oe.jsx)(M.b,{exact:!0,path:"/",component:Ye}),Object(oe.jsx)(M.b,{exact:!0,path:"/error",render:function(e){return Object(oe.jsx)(We,Object(i.a)(Object(i.a)({},e),{},{message:"Please check your internet connection and then try again",height:"89vh"}))}}),Object(oe.jsx)(M.b,{exact:!0,path:"/profile",component:Ke}),Object(oe.jsx)(M.b,{exact:!0,path:"/surveys",component:ke}),Object(oe.jsx)(M.b,{exact:!0,path:"/SurveyResponse",component:qe}),Object(oe.jsx)(M.b,{exact:!0,path:"/surveys/create-new-surveys",component:lt})]})]})},bt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,235)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))},Ot=r(108),St=r(107),ht={isAuthError:!1,isLoading:!1,isLoadingSurvey:!1,formData:null,isSurveyGenerateError:!1,isSurveyGenerateSuccess:!1,userDetails:null,userCredit:0,userSurveyData:null,isFetchingUserSurveyData:!1,errorFetchinUserSurveyData:!1,surveyResponse:null,isLoadingForAddingSurveyResponse:!1,isAddingSurveyResponseError:!1,isAddingSurveyResponseSuccess:!1},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.START_USER_LOGIN:case te.START_USER_LOGOUT:case te.START_FETCHING_USER_LOGIN_DETAILS:case te.START_ADDING_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,isAuthError:!1});case te.ERROR_USER_LOGIN:case te.ERROR_USER_LOGOUT:case te.ERROR_FETCHING_USER_LOGIN_DETAILS:case te.ERROR_ADDING_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{isAuthError:!0,isLoading:!1});case te.START_GENERATING_SURVEY:return Object(i.a)(Object(i.a)({},e),{},{isLoadingSurvey:!0,isSurveyGenerateError:!1,isSurveyGenerateSuccess:!1});case te.ERROR_GENERATING_SURVEY:return Object(i.a)(Object(i.a)({},e),{},{isSurveyGenerateError:!0,isLoadingSurvey:!1,isSurveyGenerateSuccess:!1});case te.SUCCESS_GENERATING_SURVEY:return Object(i.a)(Object(i.a)({},e),{},{isLoadingSurvey:!1,isSurveyGenerateError:!1,isSurveyGenerateSuccess:!0});case te.SUCCESS_FETCHING_USER_LOGIN_DETAILS:case te.SUCCESS_USER_LOGIN:case te.SUCCESS_ADDING_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthError:!1,userDetails:t.payload,userCredit:t.payload?t.payload.credit:0});case te.SUCCESS_USER_LOGOUT:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthError:!1,userDetails:null,userCredit:null});case te.ADD_SURVEY_FORM_DATA:return Object(i.a)(Object(i.a)({},e),{},{formData:t.payload});case te.RESET_SURVEY_STATUS:return Object(i.a)(Object(i.a)({},e),{},{isSurveyGenerateError:!1,isSurveyGenerateSuccess:!1});case te.CLEAR_SURVEY_FORM_DATA:return Object(i.a)(Object(i.a)({},e),{},{formData:null});case te.START_CAPTURING_SURVEY_RESPONSE:return Object(i.a)(Object(i.a)({},e),{},{isLoadingForAddingSurveyResponse:!0,isAddingSurveyResponseSuccess:!1,isAddingSurveyResponseError:!1,surveyResponse:null});case te.SUCCESS_CAPTURING_SURVEY_RESPONSE:return Object(i.a)(Object(i.a)({},e),{},{isLoadingForAddingSurveyResponse:!1,isAddingSurveyResponseSuccess:!0,isAddingSurveyResponseError:!1,surveyResponse:t.payload});case te.ERROR_CAPTURING_SURVEY_RESPONSE:return Object(i.a)(Object(i.a)({},e),{},{isAddingSurveyResponseSuccess:!1,isLoadingForAddingSurveyResponse:!1,isAddingSurveyResponseError:!0,surveyResponse:null});case te.START_FETCHING_USER_SURVEY_DATA:return Object(i.a)(Object(i.a)({},e),{},{userSurveyData:null,isFetchingUserSurveyData:!0,errorFetchinUserSurveyData:!1});case te.SUCCESS_FETCHING_USER_SURVEY_DATA:return Object(i.a)(Object(i.a)({},e),{},{userSurveyData:t.payload,isFetchingUserSurveyData:!1,errorFetchinUserSurveyData:!1});case te.ERROR_FETCHING_USER_SURVEY_DATA:return Object(i.a)(Object(i.a)({},e),{},{userSurveyData:null,isFetchingUserSurveyData:!1,errorFetchinUserSurveyData:!0});case te.UPDATE_USER_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{userCredit:t.payload});default:return e}},Et=[];Et.push(Ot.a),Et.push(St.logger);var Rt=Object(b.b)({auth:pt}),vt=Object(b.d)(Rt,b.a.apply(void 0,Et));c.a.render(Object(oe.jsx)(j.a,{store:vt,children:Object(oe.jsx)(s.a.StrictMode,{children:Object(oe.jsx)(A.a,{children:Object(oe.jsx)(jt,{})})})}),document.getElementById("root")),bt()}},[[174,1,2]]]);
//# sourceMappingURL=main.c510f04c.chunk.js.map