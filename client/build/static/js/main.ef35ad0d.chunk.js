(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,r){},152:function(e,t,r){},153:function(e,t,r){},154:function(e,t,r){},168:function(e,t,r){},169:function(e,t,r){},170:function(e,t,r){},171:function(e,t,r){},172:function(e,t,r){},173:function(e,t,r){},174:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(10),c=r.n(a),i=(r(122),r(5)),o=r(59),u=r(42),l=r(37),d=r(94),j=r(110),b=r(12),O=r(22),S=r(6),h=r(223),p=r(224),E=r(70),R=r(226),v=r(215),y=r(103),g=r.n(y),_=r(229),f=r(177),m=r(178),x=r(221),T=r(222),C=r(225),N=r(67),U=r.n(N),D=r(66),A=r.n(D),I=r(21),G=r(23),w=r(13),L=r(232),F=r(216),k=r(217),Y=r(176),V=r(218),P=r(219),H=r(220),M=r(212),B=r(15),z=r(78),q=r.n(z),W=r(101),K=r.n(W),J=r(102),Q=r.n(J),X=r(97),$=r.n(X),Z=r(29),ee=r(45),te=function(e,t){console.log("\n\n // ERROR // \n\n ".concat(t," \n\n ").concat(e.message))},re={START_FETCHING_USER_LOGIN_DETAILS:"START_FETCHING_USER_LOGIN_DETAILS",ERROR_FETCHING_USER_LOGIN_DETAILS:"ERROR_FETCHING_USER_LOGIN_DETAILS",SUCCESS_FETCHING_USER_LOGIN_DETAILS:"SUCCESS_FETCHING_USER_LOGIN_DETAILS",UPDATE_USER_CREDIT:"UPDATE_USER_CREDIT",START_USER_LOGIN:"START_USER_LOGIN",ERROR_USER_LOGIN:"ERROR_USER_LOGIN",SUCCESS_USER_LOGIN:"SUCCESS_USER_LOGIN",START_USER_LOGOUT:"START_USER_LOGOUT",ERROR_USER_LOGOUT:"ERROR_USER_LOGOUT",SUCCESS_USER_LOGOUT:"SUCCESS_USER_LOGOUT",START_ADDING_CREDIT:"START_ADDING_CREDIT",SUCCESS_ADDING_CREDIT:"SUCCESS_ADDING_CREDIT",ERROR_ADDING_CREDIT:"ERROR_ADDING_CREDIT",ADD_SURVEY_FORM_DATA:"ADD_SURVEY_FORM_DATA",CLEAR_SURVEY_FORM_DATA:"CLEAR_SURVEY_FORM_DATA",START_GENERATING_SURVEY:"START_GENERATING_SURVEY",SUCCESS_GENERATING_SURVEY:"SUCCESS_GENERATING_SURVEY",ERROR_GENERATING_SURVEY:"ERROR_GENERATING_SURVEY",RESET_SURVEY_STATUS:"RESET_SURVEY_STATUS",START_CAPTURING_SURVEY_RESPONSE:"START_CAPTURING_SURVEY_RESPONSE",SUCCESS_CAPTURING_SURVEY_RESPONSE:"SUCCESS_CAPTURING_SURVEY_RESPONSE",ERROR_CAPTURING_SURVEY_RESPONSE:"ERROR_CAPTURING_SURVEY_RESPONSE",START_FETCHING_USER_SURVEY_DATA:"START_FETCHING_USER_SURVEY_DATA",SUCCESS_FETCHING_USER_SURVEY_DATA:"SUCCESS_FETCHING_USER_SURVEY_DATA",ERROR_FETCHING_USER_SURVEY_DATA:"ERROR_FETCHING_USER_SURVEY_DATA"},ne=r(46),se=r.n(ne),ae=function(e){return{type:re.SUCCESS_FETCHING_USER_LOGIN_DETAILS,payload:e}},ce=function(){return{type:re.CLEAR_SURVEY_FORM_DATA}},ie=function(e){return{type:re.SUCCESS_CAPTURING_SURVEY_RESPONSE,payload:e}},oe=function(){return function(){var e=Object(ee.a)(Object(Z.a)().mark((function e(t){var r;return Object(Z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:re.START_FETCHING_USER_LOGIN_DETAILS}),e.prev=1,e.next=4,se.a.get("/api/getCurrentUser");case 4:r=e.sent,t(ae(r.data)),t(ce()),e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(1),"Request failed with status code 401"!==e.t0.message){e.next=14;break}return t(ae(null)),e.abrupt("return");case 14:te(e.t0,"Error occored while fetching user login details"),t({type:re.ERROR_FETCHING_USER_LOGIN_DETAILS});case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},ue=r(1),le=Object(b.b)(null,(function(e){return{startAddingCredit:function(t,r){return e(function(e,t){return function(){var r=Object(ee.a)(Object(Z.a)().mark((function r(n){var s;return Object(Z.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:re.START_ADDING_CREDIT}),r.prev=1,r.next=4,se.a.post("/api/addCredit",{token:e,amount:t});case 4:s=r.sent,console.log("Add Credit Response is",s),n(oe()),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),te(r.t0,"Error occored while Adding new Credits"),n({type:re.ERROR_ADDING_CREDIT});case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}(t,r))}}}))((function(e){var t=e.children,r=e.onClose,n=e.startAddingCredit;return Object(ue.jsx)($.a,{amount:500,name:"Survey Generator Payement Gateway",description:"pay 5$ for 5 credits",image:"/favicon.ico",token:function(e){return n(e,500)},stripeKey:"pk_test_4b9bCmmYb4mUbXuV6ygdQE4u00Hzn49rYV",closed:r||"",children:t})})),de=r(20),je=function(e){return e.auth},be=Object(de.a)([je],(function(e){return!(!e.userDetails||!e.userDetails.display_name)})),Oe=Object(de.a)([je],(function(e){return e.userDetails?e.userCredit:null})),Se=Object(de.a)([je],(function(e){return e.userDetails})),he=Object(de.a)([je],(function(e){return e.isAuthError})),pe=Object(de.a)([je],(function(e){return e.formData})),Ee=Object(de.a)([je],(function(e){return e.isSurveyGenerateError})),Re=Object(de.a)([je],(function(e){return e.isSurveyGenerateSuccess})),ve=Object(de.a)([je],(function(e){return e.isLoading})),ye=Object(de.a)([je],(function(e){return e.isLoadingSurvey})),ge=Object(de.a)([je],(function(e){return e.isLoadingForAddingSurveyResponse})),_e=Object(de.a)([je],(function(e){return e.isAddingSurveyResponseError})),fe=Object(de.a)([je],(function(e){return e.isAddingSurveyResponseSuccess})),me=Object(de.a)([je],(function(e){return e.userSurveyData})),xe=Object(de.a)([je],(function(e){return e.isFetchingUserSurveyData})),Te=Object(de.a)([je],(function(e){return e.errorFetchinUserSurveyData})),Ce=Object(de.a)([je],(function(e){return e.surveyResponse})),Ne=r(99),Ue=r.n(Ne),De=Object(M.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"50%","& > *":{margin:e.spacing(1)}},credit:Object(w.a)({display:"flex",fontWeight:"bold",height:"inherit",alignItems:"center",visibility:"hidden"},e.breakpoints.up("md"),{visibility:"visible"}),avatar:{display:"flex"},icon:{marginRight:e.spacing(1)},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7),cursor:"Pointer"}}})),Ae=Object(O.c)(B.g,Object(b.b)((function(e){return{userCredit:Oe(e)}}),(function(e){return{startUserLogout:function(){return e(function(){var e=Object(ee.a)(Object(Z.a)().mark((function e(t){var r;return Object(Z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:re.SUCCESS_USER_LOGOUT}),e.prev=1,e.next=4,se.a.get("/auth/google");case 4:r=e.sent,console.log("Login response is",r),t({type:re.SUCCESS_USER_LOGOUT}),t(ce()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),te(e.t0,"Error occored while logging with google"),t({type:re.ERROR_USER_LOGOUT});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}})))((function(e){var t=e.userData,r=e.history,n=e.userCredit,a=De(),c=t.display_name,o=t.profile_picture,u=s.a.useState(!1),l=Object(G.a)(u,2),d=l[0],j=l[1],b=s.a.useRef(null),O=s.a.useRef(null),S=function(){j((function(e){return!e}))},h=function(e){b.current&&b.current.contains(e.target)||j(!1)};function p(e){"Tab"===e.key&&(e.preventDefault(),j(!1))}var R=s.a.useRef(d);s.a.useEffect((function(){!0===R.current&&!1===d&&b.current.focus(),R.current=d}),[d]);var y=function(e){h(e),window.open("/api/logout","_self")},g=function(e){h(e),r.push("/profile")},_=function(e){h(e),r.push("/surveys")},f=function(){return S(O.current)};return Object(ue.jsxs)("div",{className:a.root,children:[Object(ue.jsxs)("div",{className:a.credit,children:[Object(ue.jsx)(E.a,{variant:"h6",children:"Your total Credit are"}),Object(ue.jsx)(q.a,{}),"  ",Object(ue.jsx)(E.a,{variant:"h6",children:n})]}),Object(ue.jsxs)("div",{className:a.avatar,children:[Object(ue.jsx)(L.a,{title:c,alt:c,src:o,className:a.large,ref:b,"aria-controls":d?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:S}),Object(ue.jsx)(v.a,{color:"inherit","aria-label":"menu",onClick:S,children:Object(ue.jsx)(Ue.a,{})})]}),Object(ue.jsx)(F.a,{open:d,role:"menu",anchorEl:b.current,style:{zIndex:100},transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,r=e.placement;return Object(ue.jsx)(k.a,Object(i.a)(Object(i.a)({},t),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(ue.jsx)(Y.a,{children:Object(ue.jsx)(V.a,{onClickAway:h,children:Object(ue.jsxs)(P.a,{autoFocusItem:d,id:"menu-list-grow",onKeyDown:p,children:[Object(ue.jsxs)(H.a,{onClick:g,children:["  ",Object(ue.jsx)(A.a,{className:a.icon}),"      Profile                 "]}),Object(ue.jsxs)(H.a,{onClick:_,children:["  ",Object(ue.jsx)(U.a,{className:a.icon}),"      Survey                 "]}),Object(ue.jsxs)(H.a,{ref:O,children:["       ",Object(ue.jsx)(K.a,{className:a.icon}),"   ",Object(ue.jsx)(le,{onClose:f,children:" Add Credit"})," "]}),Object(ue.jsxs)(H.a,{onClick:h,children:[" ",Object(ue.jsx)(q.a,{className:a.icon}),"        You have ",n," Credits      "]}),Object(ue.jsxs)(H.a,{onClick:y,children:["    ",Object(ue.jsx)(Q.a,{className:a.icon}),"              Logout                  "]})]})})})}))}})]})})),Ie=function(e){return 0===e?Object(ue.jsx)(A.a,{}):1===e?Object(ue.jsx)(U.a,{}):void 0},Ge=function(e){var t=e.classes,r=e.toggleDrawer;return Object(ue.jsx)("div",{className:t.list,role:"presentation",onClick:r(!1),onKeyDown:r(!1),children:Object(ue.jsx)(f.a,{children:["Profile","Surveys"].map((function(e,t){return Object(ue.jsx)(I.b,{to:0===t?"/Profile":1===t?"/surveys":"",children:Object(ue.jsxs)(m.a,{button:!0,children:[Object(ue.jsxs)(x.a,{children:[" ",Ie(t)]}),Object(ue.jsx)(T.a,{primary:e})]},e)},t)}))})})},we=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={showDrowser:!1},n.toggleDrawer=n.toggleDrawer.bind(Object(l.a)(n)),n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.startFetchingLoginDetails()}},{key:"toggleDrawer",value:function(e){var t=this;return function(r){("keydown"!==r.type||"Tab"!==r.key&&"Shift"!==r.key)&&t.setState({showDrowser:e})}}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.isLoading,n=e.isUserLoggedIn,s=e.isError,a=e.userData;return Object(ue.jsxs)("div",{className:t.root,children:[Object(ue.jsx)(h.a,{className:t.appbar,position:"static",children:Object(ue.jsxs)(p.a,{children:[n&&Object(ue.jsx)(v.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:this.toggleDrawer(!0),children:Object(ue.jsx)(g.a,{})}),Object(ue.jsx)(E.a,{variant:"h6",className:t.title,children:Object(ue.jsx)(I.b,{to:"/",children:"Survey Generator"})}),r&&Object(ue.jsx)(C.a,{className:t.circularSpinner,color:"secondary"}),!r&&s&&Object(ue.jsx)(E.a,{variant:"h6",color:"secondary",children:" Error Ocuured"}),!r&&!s&&!n&&Object(ue.jsx)(R.a,{href:"/auth/google",color:"inherit",children:"Login with google"}),!r&&!s&&n&&Object(ue.jsx)(Ae,{userData:a})]})}),n&&Object(ue.jsx)(_.a,{anchor:"left",open:this.state.showDrowser,onClose:this.toggleDrawer(!1),children:Object(ue.jsx)(Ge,{classes:t,toggleDrawer:this.toggleDrawer})})]})}}]),r}(s.a.Component),Le=Object(O.c)(Object(S.a)((function(e){return{root:{flexGrow:1},appbar:{minHeight:"72px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,cursor:"pointer"},Error:{color:"red"},list:{width:250},circularSpinner:{"& > * + *":{marginLeft:e.spacing(2)}}}}),{withTheme:!0}),Object(b.b)((function(e){return{isLoading:ve(e),isUserLoggedIn:be(e),isError:he(e),userData:Se(e)}}),(function(e){return{startFetchingLoginDetails:function(){return e(oe())}}})))(we),Fe=(r(152),r(153),r(104)),ke=r.n(Fe),Ye=Object(b.b)((function(e){return{isUserLoggedIn:be(e),userData:Se(e),userSurveyData:me(e),userSurveyDataError:Te(e),isLoadingUserSurveyData:xe(e)}}),(function(e){return{startFetchingUserSurveyData:function(t){return e(function(e){return function(){var t=Object(ee.a)(Object(Z.a)().mark((function t(r){var n;return Object(Z.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:re.START_FETCHING_USER_SURVEY_DATA}),t.prev=1,t.next=4,se.a.post("/api/getSurvey",{user_id:e});case 4:n=t.sent,r((s=n.data,{type:re.SUCCESS_FETCHING_USER_SURVEY_DATA,payload:s})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),te(t.t0,"Error occored while fetching user survey response"),r({type:re.ERROR_FETCHING_USER_SURVEY_DATA});case 12:case"end":return t.stop()}var s}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isUserLoggedIn,r=e.userSurveyData,n=e.startFetchingUserSurveyData,a=e.userSurveyDataError,c=e.isLoadingUserSurveyData,i=e.userData;return console.log("isUserLoggedIn",t),s.a.useEffect((function(){t&&n(i._id)}),[t,i,n]),t?Object(ue.jsxs)("div",{style:{position:"relative",backgroundlColor:" rgba(226, 226, 226, 0.8)"},children:[!c&&!a&&Object(ue.jsx)(I.b,{to:"/surveys/create-new-surveys",className:"add-new-survey-iocn",children:Object(ue.jsx)(ke.a,{style:{width:100,height:100},color:"secondary"})}),Object(ue.jsxs)("div",{className:"survey-container",children:[c&&Object(ue.jsx)(C.a,{style:{width:"100px",height:"100px"},color:"secondary"}),a&&Object(ue.jsx)("div",{className:"survey-data-error",children:" Error while Fetching data, please chech your internet connection and try again  "}),!c&&!a&&Object(ue.jsxs)(ue.Fragment,{children:[(!r||0===r.length)&&Object(ue.jsx)("div",{className:"survey-no-data",children:" No Survey Found  "}),r&&r.map((function(e,t){return Object(ue.jsxs)("div",{className:"survey-response-container",children:[Object(ue.jsx)("div",{className:"eachSurveyHeader",children:" Survey response"}),Object(ue.jsxs)("div",{className:"eachSurvey",children:[" ",Object(ue.jsx)("span",{children:"Survey title"}),"    ",Object(ue.jsx)("span",{className:"eachSurveyResponse",children:e.title})]}),Object(ue.jsxs)("div",{className:"eachSurvey",children:[" ",Object(ue.jsx)("span",{children:"Total responses"})," ",Object(ue.jsx)("span",{className:"eachSurveyResponse",children:e.TotalYes+e.TotalNo})]}),Object(ue.jsxs)("div",{className:"eachSurvey",children:[" ",Object(ue.jsx)("span",{children:"Total yes"}),"       ",Object(ue.jsx)("span",{className:"eachSurveyResponse",children:e.TotalYes})]}),Object(ue.jsxs)("div",{className:"eachSurvey",children:[" ",Object(ue.jsx)("span",{children:"Total no"}),"        ",Object(ue.jsx)("span",{className:"eachSurveyResponse",children:e.TotalNo})]})]},t)}))]})]})]}):Object(ue.jsx)(B.a,{to:"/"})})),Ve=(r(154),Object(b.b)((function(e){return{isUserLoggedIn:be(e),userCredit:Oe(e)}}))((function(e){var t=e.isUserLoggedIn;return Object(ue.jsxs)("div",{className:"background-image",style:{backgroundImage:"url(/survey-background.jpg)"},children:[Object(ue.jsx)("div",{className:"home-header",children:"Welcome to Survey Generator"}),Object(ue.jsxs)("div",{className:"home-subheader",children:["we will help you to create your surveys ",Object(ue.jsx)("br",{}),"Buy credit and we will create surveys"]}),Object(ue.jsxs)("ul",{className:"home-content",children:[t?Object(ue.jsxs)("li",{children:[" ",Object(ue.jsx)(I.b,{to:"/surveys",children:"Surveys Dashboard"})]}):Object(ue.jsx)("li",{"aria-hidden":!0,onClick:function(){return window.open("/auth/google","_self")},children:"Please Login to continue !"}),t?Object(ue.jsxs)("li",{children:[Object(ue.jsx)(I.b,{to:"/Profile",children:"Profile Dashboard"})," "]}):""]})]})}))),Pe=r(105),He=r.n(Pe),Me=r(106),Be=r.n(Me),ze=r(68),qe=Object(M.a)((function(){return{container:{display:"flex",height:"50vh",flexDirection:"column",justifyContent:"space-around",alignItems:"center",paddingTop:"10vh",paddingBottom:"29vh",backgroundColor:"whitesmoke"},header:{fontSize:"2rem",color:"darkorchid"},subHeader:{fontSize:"1.75rem",color:"orange"},redirectMsg:{fontSize:"1.25rem",color:"darkorchid"},refreshIcon:{width:70,height:70,cursor:"pointer"}}})),We=Object(O.c)(B.g,Object(b.b)((function(e){return{isLoading:ge(e),isError:_e(e),isSuccess:fe(e),surveyResponse:Ce(e)}}),(function(e){return{addSurveyResponse:function(t){return e(function(e){var t=e.surveyGeneratorId,r=e.reciverMailId,n=e.response;return function(){var e=Object(ee.a)(Object(Z.a)().mark((function e(s){var a;return Object(Z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:re.START_CAPTURING_SURVEY_RESPONSE}),e.prev=1,e.next=4,se.a.post("/api/sureyResponse",{surveyGeneratorId:t,reciverMailId:r,response:n});case 4:a=e.sent,s(ie(a.data.result)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),te(e.t0,"Error occored while adding survey response"),s({type:re.ERROR_CAPTURING_SURVEY_RESPONSE});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}})))((function(e){var t=e.location,r=e.history,n=e.isLoading,a=e.isError,c=e.isSuccess,i=e.addSurveyResponse,o=e.surveyResponse,u=qe();return s.a.useState((function(){var e=He.a.parse(t.search),r=e.surveyGeneratorId,n=e.reciverMailId,s=e.response;i({surveyGeneratorId:r,reciverMailId:n,response:s})}),[]),Object(ue.jsxs)("div",{className:u.container,style:{fontFamily:"Yusei Magic"},children:[Object(ue.jsx)("div",{className:u.header,children:" Thanks for your response "}),n&&Object(ue.jsx)(C.a,{color:"secondary"}),Object(ue.jsxs)("div",{className:u.subHeader,children:[n&&Object(ue.jsx)(ue.Fragment,{children:"Please wait while we submit your response"}),a&&Object(ue.jsx)(ue.Fragment,{children:"Error while submmiting your response please try again"}),c&&Object(ue.jsx)(ue.Fragment,{children:o})]}),!n&&a&&Object(ue.jsx)(Be.a,{title:"try again",className:u.refreshIcon,onClick:function(){return r.go(0)}}),c&&Object(ue.jsxs)(ue.Fragment,{children:[" ",Object(ue.jsx)("span",{className:u.redirectMsg,children:" Redirecting to home page "}),Object(ue.jsx)(ze.CountdownCircleTimer,{isPlaying:!0,duration:10,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],onComplete:function(){r.push("/")},children:function(e){var t=e.remainingTime;return"".concat(t)}})]})]})})),Ke=(r(168),function(e){var t=e.message,r=e.height;return Object(ue.jsxs)("div",{className:"error",style:r?{height:r,backgroundColor:"rgba(226, 226, 226, 0.8)"}:{},children:[Object(ue.jsx)("span",{style:{fontSize:"3rem"},children:" OOPS !!"}),Object(ue.jsxs)("span",{children:[" ",t," "]})]})}),Je=(r(169),Object(O.c)(B.g,Object(b.b)((function(e){return{isLoggedIn:be(e),userCredit:Oe(e),userData:Se(e)}})))((function(e){var t=e.isLoggedIn,r=e.userCredit,n=e.userData,s=e.history;return t?Object(ue.jsxs)("div",{className:"profile-container",children:[Object(ue.jsx)("img",{src:n.profile_picture,alt:"user_profile_picture",className:"profile-picture"}),Object(ue.jsxs)("div",{className:"user-content",children:[Object(ue.jsxs)("div",{className:"user-field",children:[Object(ue.jsx)("div",{children:"Name"}),Object(ue.jsx)("div",{className:"user",children:n.display_name})]}),Object(ue.jsxs)("div",{className:"user-field",children:[Object(ue.jsx)("div",{children:"Email"}),Object(ue.jsxs)("div",{className:"user",children:[" ",n.email_id]})]}),Object(ue.jsxs)("div",{className:"user-field",children:[Object(ue.jsx)("div",{children:" Credit"}),Object(ue.jsxs)("div",{className:"user",children:[" ",r]})]})]})]}):(s.push("/"),null)}))),Qe=r(109),Xe=r(228),$e=(r(170),r(3)),Ze=(r(171),["handleChange","label"]),et=function(e){var t=e.handleChange,r=e.label,n=Object($e.a)(e,Ze);return Object(ue.jsxs)("div",{className:"group",children:[Object(ue.jsx)("input",Object(i.a)({className:"form-input",onChange:t},n)),r?Object(ue.jsx)("label",{className:"".concat(n.value.length?"shrink":""," \n                            form-input-label"),children:r}):null]})},tt=Object(b.b)((function(e){return{userCredit:Oe(e),userFormData:pe(e)}}),(function(e){return{saveData:function(t){return e(function(e){return console.log("formData",e),{type:re.ADD_SURVEY_FORM_DATA,payload:e}}(t))}}}))((function(e){var t=e.userCredit,r=e.userFormData,n=e.saveData,a=s.a.useState(r||{title:"",subject:"",body:"",recipientList:[]}),c=Object(G.a)(a,2),o=c[0],u=c[1],l=function(e){var t=e.target,r=t.name,n=t.value;u(Object(i.a)(Object(i.a)({},o),{},Object(w.a)({},"".concat(r),n)))},d=o.title,j=o.subject,b=o.body,O=o.recipientList;return 0===t?Object(ue.jsxs)("div",{className:"new-form-error-container",children:[Object(ue.jsx)(Ke,{message:" You dont have enough credit to generate new survey "}),Object(ue.jsx)(le,{children:Object(ue.jsx)("div",{className:"add-credit-form",children:"Add Credit"})}),Object(ue.jsxs)("div",{className:"test-card-details-container",children:[Object(ue.jsx)("div",{style:{borderBottom:"5px solid black",marginBottom:"20px"},children:"TEST CARD DETAILS"}),Object(ue.jsxs)("div",{className:"each-test-key",children:[" ",Object(ue.jsx)("span",{children:"Test card number"}),"  ",Object(ue.jsx)("span",{style:{width:"50%"},children:"4242 4242 4242 4242"}),"  "]}),Object(ue.jsxs)("div",{className:"each-test-key",children:[" ",Object(ue.jsx)("span",{children:"Month/year"}),"        ",Object(ue.jsx)("span",{style:{width:"50%"},children:"10/22"}),"                 "]}),Object(ue.jsxs)("div",{className:"each-test-key",children:[" ",Object(ue.jsx)("span",{children:"CVV "}),"              ",Object(ue.jsx)("span",{style:{width:"50%"},children:"123"})]})]})]}):Object(ue.jsx)("div",{className:"add-new-survey-form-container",children:Object(ue.jsxs)("div",{className:"form-container",children:[Object(ue.jsx)("div",{className:"form-header",children:"Please fill out following surveys details "}),Object(ue.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=o;t.recipientList=function(e){return String(e).split(",").map((function(e){return e.trim()}))}(o.recipientList),n(t)},children:[Object(ue.jsx)(et,{type:"text",name:"title",label:"Title",value:d,required:!0,handleChange:l}),Object(ue.jsx)(et,{type:"text",name:"subject",label:"Subject of the mail",value:j,required:!0,handleChange:l}),Object(ue.jsx)(et,{type:"text",name:"body",label:"Body of the mail",value:b,required:!0,handleChange:l}),Object(ue.jsx)(et,{type:"text",name:"recipientList",label:"Comma seprated recipient  eamil address list",value:O,required:!0,handleChange:l}),Object(ue.jsx)("div",{className:"submit-button-container",children:Object(ue.jsx)("button",{className:"button",type:"submit",children:" submit "})})]})]})})})),rt=(r(172),r(234)),nt=r(227),st=r(231),at=r(233),ct=r(230),it=Object(M.a)((function(e){return{root:{width:"100%",minHeight:"89vh",backgroundColor:"whitesmoke"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},generationSurveyContainer:{display:"flex",padding:"50px 0px",height:"30vh",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},generatingMsg:{fontSize:"2rem",color:"cornflowerblue",fontWeight:"bold"},timmer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",fontSize:"1rem",color:"red",fontWeight:"bold",height:"60vh"}}})),ot=function(e){return Object(ue.jsx)(ct.a,Object(i.a)({elevation:6,variant:"filled"},e))},ut=Object(O.c)(Object(b.b)((function(e){return{userFormData:pe(e),userData:Se(e),isGeneratingSurvey:ye(e),isErrorGeneratingSurvey:Ee(e),isSuccessGeneratinSurvey:Re(e)}}),(function(e){return{clearFormData:function(){return e(ce())},resetSurveyStatus:function(){return e({type:re.RESET_SURVEY_STATUS})},startGenerateForm:function(t){return e(function(e){return function(){var t=Object(ee.a)(Object(Z.a)().mark((function t(r){var n;return Object(Z.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:re.START_GENERATING_SURVEY}),console.log("SurveyData is",e),t.prev=2,t.next=5,se.a.post("/api/generateSurvey",e);case 5:n=t.sent,r({type:re.SUCCESS_GENERATING_SURVEY}),r((s=n.data.userCredit,{type:re.UPDATE_USER_CREDIT,payload:s})),r(ce()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),te(t.t0,"Error occored while generating Survey"),r({type:re.ERROR_GENERATING_SURVEY});case 15:case"end":return t.stop()}var s}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}})),B.g)((function(e){var t=e.components,r=e.headerTitle,n=e.history,a=e.userFormData,c=e.resetSurveyStatus,i=e.isErrorGeneratingSurvey,o=e.isSuccessGeneratinSurvey,u=e.clearFormData,l=e.startGenerateForm,d=e.userData,j=e.isGeneratingSurvey,b=it(),O=s.a.useState(!1),S=Object(G.a)(O,2),h=S[0],p=S[1],R=s.a.useState(""),v=Object(G.a)(R,2),y=v[0],g=v[1],_=s.a.useState(""),f=Object(G.a)(_,2),m=f[0],x=f[1],T=s.a.useState(0),N=Object(G.a)(T,2),U=N[0],D=N[1],A=r,I=function(){D(0),p(!1),c()},w=function(e,t){"clickaway"!==t&&p(!1)};return s.a.useEffect((function(){a&&(p(!0),g("success"),x("Form value successfully store, click next to proceed")),i&&(p(!0),g("error"),x("Error generating survey")),o&&(p(!0),g("success"),x("Success generating Survey"))}),[a,i,o]),Object(ue.jsxs)("div",{className:b.root,children:[Object(ue.jsx)(at.a,{open:h,autoHideDuration:6e3,onClose:w,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(ue.jsx)(ot,{onClose:w,severity:y,children:m})}),Object(ue.jsx)(rt.a,{style:{backgroundColor:"whitesmoke"},activeStep:U,alternativeLabel:!0,children:A.map((function(e){return Object(ue.jsx)(nt.a,{children:Object(ue.jsx)(st.a,{children:e})},e)}))}),Object(ue.jsx)("div",{children:U===A.length?Object(ue.jsxs)(ue.Fragment,{children:[!o&&Object(ue.jsxs)("div",{className:b.generationSurveyContainer,children:[Object(ue.jsxs)(E.a,{className:b.generatingMsg,children:[!o&&!i&&Object(ue.jsx)(ue.Fragment,{children:" Generating Survey please wait"}),i&&Object(ue.jsx)("div",{"aria-hidden":!0,className:"final-button",onClick:I,children:" Error Occured Try Again"})]}),j&&Object(ue.jsx)(C.a,{color:"secondary"})]}),o&&Object(ue.jsxs)("div",{className:b.timmer,children:[Object(ue.jsx)("div",{style:{fontSize:"3rem",color:"blue"},children:" Survey generated successfully!!"}),Object(ue.jsx)("div",{children:" redirecting back to Survey dashboard page"}),Object(ue.jsx)(ze.CountdownCircleTimer,{isPlaying:!0,duration:10,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],onComplete:function(){I(),n.push("/surveys")},children:function(e){var t=e.remainingTime;return"".concat(t)}})]})]}):Object(ue.jsxs)("div",{children:[Object(ue.jsx)(E.a,{className:b.instructions,children:t[U]}),Object(ue.jsxs)("div",{className:"form-button-container",children:[Object(ue.jsx)("button",{className:"stepper-button",onClick:0===U?function(){u(),n.push("/surveys")}:function(){D((function(e){return e-1}))},children:"Back"}),Object(ue.jsx)("button",{className:"stepper-button",style:a?{}:{cursor:"not-allowed"},onClick:function(){U===A.length-1&&l({surveyData:a,user_profile_id:d.profile_id}),D((function(e){return e+1}))},disabled:!a,title:a?"click next to proceed":"please submit form first",children:U===A.length-1?"Generate Survey":"Next"})]})]})})]})})),lt=(r(173),Object(b.b)((function(e){return{userFormData:pe(e)}}))((function(e){var t=e.userFormData,r=t.title,n=t.subject,s=t.body,a=t.recipientList;return Object(ue.jsx)("div",{className:"formDataContainer",children:Object(ue.jsxs)("div",{className:"userDataContainer",children:[Object(ue.jsxs)("div",{className:"eachData",children:[" ",Object(ue.jsx)("span",{style:{color:"cornflowerblue"},children:"Survey Title"}),"    ",Object(ue.jsx)("span",{style:{width:"55%"},children:r}),"            "]}),Object(ue.jsxs)("div",{className:"eachData",children:[Object(ue.jsx)("span",{style:{color:"cornflowerblue"},children:"Email Subject"}),"   ",Object(ue.jsx)("span",{style:{width:"55%"},children:n}),"          "]}),Object(ue.jsxs)("div",{className:"eachData",children:[" ",Object(ue.jsx)("span",{style:{color:"cornflowerblue"},children:"Email Body"}),"      ",Object(ue.jsx)("span",{style:{width:"55%"},children:s}),"             "]}),Object(ue.jsxs)("div",{className:"eachData",children:[" ",Object(ue.jsx)("span",{style:{color:"cornflowerblue"},children:"Recipient List"}),Object(ue.jsx)("div",{style:{width:"55%"},children:a.map((function(e,t){return Object(ue.jsx)("div",{style:{wordBreak:"break-all"},children:"".concat(t+1,". ").concat(e)},t)}))})]})]})})}))),dt=Object(O.c)(Object(b.b)((function(e){return{isUserLogedIn:be(e)}})),B.g)((function(e){var t=e.history;return e.isUserLogedIn||t.push("/"),Object(ue.jsx)(ut,{components:[Object(ue.jsx)(tt,{},"AddNewSurveysForm"),Object(ue.jsx)(lt,{},"ShowUserData")],headerTitle:["Fill out survey creator form","Confirm form values"]})})),jt=Object(Qe.a)({typography:{fontFamily:"'Yusei Magic', sans-serif"}});var bt=function(){return Object(ue.jsxs)(Xe.a,{theme:jt,children:[Object(ue.jsx)(Le,{}),Object(ue.jsxs)(B.d,{children:[Object(ue.jsx)(B.b,{exact:!0,path:"/",component:Ve}),Object(ue.jsx)(B.b,{exact:!0,path:"/error",render:function(e){return Object(ue.jsx)(Ke,Object(i.a)(Object(i.a)({},e),{},{message:"Please check your internet connection and then try again",height:"89vh"}))}}),Object(ue.jsx)(B.b,{exact:!0,path:"/profile",component:Je}),Object(ue.jsx)(B.b,{exact:!0,path:"/surveys",component:Ye}),Object(ue.jsx)(B.b,{exact:!0,path:"/SurveyResponse",component:We}),Object(ue.jsx)(B.b,{exact:!0,path:"/surveys/create-new-surveys",component:dt})]})]})},Ot=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,235)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))},St=r(108),ht=r(107),pt={isAuthError:!1,isLoading:!1,isLoadingSurvey:!1,formData:null,isSurveyGenerateError:!1,isSurveyGenerateSuccess:!1,userDetails:null,userCredit:0,userSurveyData:null,isFetchingUserSurveyData:!1,errorFetchinUserSurveyData:!1,surveyResponse:null,isLoadingForAddingSurveyResponse:!1,isAddingSurveyResponseError:!1,isAddingSurveyResponseSuccess:!1},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.START_USER_LOGIN:case re.START_USER_LOGOUT:case re.START_FETCHING_USER_LOGIN_DETAILS:case re.START_ADDING_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,isAuthError:!1});case re.ERROR_USER_LOGIN:case re.ERROR_USER_LOGOUT:case re.ERROR_FETCHING_USER_LOGIN_DETAILS:case re.ERROR_ADDING_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{isAuthError:!0,isLoading:!1});case re.START_GENERATING_SURVEY:return Object(i.a)(Object(i.a)({},e),{},{isLoadingSurvey:!0,isSurveyGenerateError:!1,isSurveyGenerateSuccess:!1});case re.ERROR_GENERATING_SURVEY:return Object(i.a)(Object(i.a)({},e),{},{isSurveyGenerateError:!0,isLoadingSurvey:!1,isSurveyGenerateSuccess:!1});case re.SUCCESS_GENERATING_SURVEY:return Object(i.a)(Object(i.a)({},e),{},{isLoadingSurvey:!1,isSurveyGenerateError:!1,isSurveyGenerateSuccess:!0});case re.SUCCESS_FETCHING_USER_LOGIN_DETAILS:case re.SUCCESS_USER_LOGIN:case re.SUCCESS_ADDING_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthError:!1,userDetails:t.payload,userCredit:t.payload?t.payload.credit:0});case re.SUCCESS_USER_LOGOUT:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthError:!1,userDetails:null,userCredit:null});case re.ADD_SURVEY_FORM_DATA:return Object(i.a)(Object(i.a)({},e),{},{formData:t.payload});case re.RESET_SURVEY_STATUS:return Object(i.a)(Object(i.a)({},e),{},{isSurveyGenerateError:!1,isSurveyGenerateSuccess:!1});case re.CLEAR_SURVEY_FORM_DATA:return Object(i.a)(Object(i.a)({},e),{},{formData:null});case re.START_CAPTURING_SURVEY_RESPONSE:return Object(i.a)(Object(i.a)({},e),{},{isLoadingForAddingSurveyResponse:!0,isAddingSurveyResponseSuccess:!1,isAddingSurveyResponseError:!1,surveyResponse:null});case re.SUCCESS_CAPTURING_SURVEY_RESPONSE:return Object(i.a)(Object(i.a)({},e),{},{isLoadingForAddingSurveyResponse:!1,isAddingSurveyResponseSuccess:!0,isAddingSurveyResponseError:!1,surveyResponse:t.payload});case re.ERROR_CAPTURING_SURVEY_RESPONSE:return Object(i.a)(Object(i.a)({},e),{},{isAddingSurveyResponseSuccess:!1,isLoadingForAddingSurveyResponse:!1,isAddingSurveyResponseError:!0,surveyResponse:null});case re.START_FETCHING_USER_SURVEY_DATA:return Object(i.a)(Object(i.a)({},e),{},{userSurveyData:null,isFetchingUserSurveyData:!0,errorFetchinUserSurveyData:!1});case re.SUCCESS_FETCHING_USER_SURVEY_DATA:return Object(i.a)(Object(i.a)({},e),{},{userSurveyData:t.payload,isFetchingUserSurveyData:!1,errorFetchinUserSurveyData:!1});case re.ERROR_FETCHING_USER_SURVEY_DATA:return Object(i.a)(Object(i.a)({},e),{},{userSurveyData:null,isFetchingUserSurveyData:!1,errorFetchinUserSurveyData:!0});case re.UPDATE_USER_CREDIT:return Object(i.a)(Object(i.a)({},e),{},{userCredit:t.payload});default:return e}},Rt=[];Rt.push(St.a),Rt.push(ht.logger);var vt=Object(O.b)({auth:Et}),yt=Object(O.d)(vt,O.a.apply(void 0,Rt));c.a.render(Object(ue.jsx)(b.a,{store:yt,children:Object(ue.jsx)(s.a.StrictMode,{children:Object(ue.jsx)(I.a,{children:Object(ue.jsx)(bt,{})})})}),document.getElementById("root")),Ot()}},[[174,1,2]]]);
//# sourceMappingURL=main.ef35ad0d.chunk.js.map